---
name: "Chris Guiterman"
position: "Research Scientist"
address: "Laboratory of Tree-Ring Research, University of Arizona"
phone: +1 520-230-2341
www: chris-guiterman.rbind.io
email: chguiterman@arizona.edu
twitter: chris.guiterman
github: chguiterman
aboutme: |
 Forest and fire ecology | Forest vulnerabilities to climate change | Vegetation type conversion | Use-inspired research | Applications in dendrochronology
date: "`r format(Sys.time(), '%B %Y')`"
output: 
  vitae::moderncv:
    theme: classic
---

```{r eval=FALSE, include=FALSE}
# Remember to spell check!!
# data_files <- list.files(here::here("data"), pattern = ".csv", full.names = TRUE)
# spelling::spell_check_files(c("CV.Rmd", data_files))
```

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = FALSE, warning = FALSE, message = FALSE)
library(vitae)
library(tidyverse)
library(lubridate)
library(here)
library(readxl)
library(glue)
library(conflicted)
library(scales)
conflict_prefer("filter", "dplyr")
conflict_prefer("here", "here")
```

```{r jobs}
jobs <- read_csv(here("data", "jobs.csv")) %>% 
   filter(!is.na(start_date)) %>% 
   mutate(Start = mdy(start_date),
         End = mdy(end_date)) %>% 
  mutate(When = case_when(
    is.na(End) ~ glue("{year(Start)}--    ") %>% as.character(),
    year(Start) == year(End) ~ year(End) %>% as.character(),
    TRUE ~ glue("{year(Start)}--{year(End)}") %>% as.character()
  )) %>% 
  mutate(End = if_else(is.na(End), today() + years(2), End)) #if no end date specified, set it to two years from now for sorting purposes, i.e. so jobs I'm still doing show up at top
```

```{r teaching}
courses <- read.csv(here("data", "teaching.csv")) %>% 
  mutate(when = glue("{semester} {year}")) %>% 
  arrange(desc(year))
```

```{r presentations, include=FALSE}
 presentations.raw <- read_csv(here("data", "presentations.csv"))
 presentations <- 
   presentations.raw %>%  
   mutate(When = mdy(When)) %>% 
   filter(When < today()) #exclude upcoming talks -->
``` 

<!-- ```{r prof-devel, include=FALSE} -->
<!-- development.raw <- read_csv(here("data", "professional development.csv")) -->
<!-- development <-  -->
<!--   development.raw %>%  -->
<!--   mutate(date = mdy(date)) -->
<!-- ``` -->

<!-- ```{r awards, include=FALSE} -->
<!-- awards.raw <- read_csv(here("data", "awards and grants.csv")) -->
<!-- awards <- awards.raw %>%  -->
<!--   mutate(date = mdy(date)) %>%  -->
<!--   arrange(desc(date)) -->
<!-- ``` -->

```{r grants}
grants_in <- read_csv(here("data", "grants.csv"))
grants <- grants_in %>% 
  mutate(date = case_when(
    is.na(start_year) ~ glue("{end_year}"),
    TRUE ~ glue("{start_year}--{end_year}")
  )) %>% 
  arrange(desc(end_year))
```

```{r edu, include=FALSE}
edu.raw <- read_csv(here("data", "education.csv"))
edu <-
  edu.raw %>% 
  mutate(chair = glue("Chair: {chair}"),
         dissertation = glue("\\textbf{[dissertation]}", 
                             .open = "[", .close = "]")
         ) %>% 
  gather(dissertation, chair, key = "whytype", value = "why")
edu["why"]
``` 

``` {r publications, include=FALSE}
# pubs <- read_xlsx(here::here("data", "my_pubs.xlsx"))
pubs <- read.csv(here("data", "my_pubs.csv"))
```

# Education

```{r}
# detailed_entries(edu %>% 
#                     filter(whytype == "dissertation"),
#                  when = end_date,
#                  what = degree,
#                  where = location,
#                  with = glue("{university}, {department}"),
#                  # why = why,
#                  .protect = FALSE)
brief_entries(edu %>% 
                    filter(whytype == "dissertation"),
                 when = end_date,
                 what = degree,
                 with = glue("{university}, {department}, {location}"),
                 # why = why,
                 .protect = FALSE)

```
# Positions

```{r}
jobs %>% 
  select(-why) %>% 
  arrange(desc(End)) %>% 
  # filter(where != "Joseph, OR") %>% 
  brief_entries(
    what = what,
    when = When,
    with = glue("{with}, {where}"),
    .protect = FALSE
  )

```

<!-- <!--# Teaching Interests -->
<!-- A sentence or two about the sorts of courses I'd like to teach.  Tailor to each job application -->
<!-- -->

# Courses Taught
## Lead or co-instructor
```{r}
courses %>% 
  filter(tag == "Instructor") %>% 
  detailed_entries(
    when = when,
    what = what,
    with = with,
    where = where,
    .protect = FALSE
  )
```
## Teaching assistant
```{r}
courses %>% 
  filter(tag == "TA") %>% 
  detailed_entries(
    when = when,
    what = what,
    with = with,
    where = where,
    .protect = FALSE
  )
```

# Grants & Fellowships

Total research funding: `r dollar(sum(grants$amount, na.rm=TRUE) - 500)`

*Note: I served as the project lead and/or PI unless otherwise noted.*

\vspace{12pt}


```{r}
grants %>% 
  detailed_entries(
    when = date, 
    what = title,
    with = sponsor, 
    where = dollar(amount),
    # why =  ifelse(!is.na(PI), glue("{PI} (PI)"), NA)
    why = ifelse(!is.na(collab), glue("with {collab}"), NA)
  )
```

\newpage

# Awards and Honors
```{r awards}
awards <- read.csv(here("data", "awards.csv")) %>% 
  arrange(desc(when))
awards %>% 
  brief_entries(when = when,
                what = what,
                with = where)
```

# Publications

```{r}
data.frame(authors = c("CH Guiterman, AM Lynch, and JN Axelson", "M Rother, J Huffman, C Guiterman, K Robertson, and N Jones"),
           year = c("In review", "In review"),
           what = c("dfoliatR: An R package for detection and analysis of insect defoliation signals in tree rings", "A history of recurrent, low-severity fire without fire exclusion in southeastern pine savannas, USA"),
           journal = c("Dendrochronologia", "Forest Ecology and Management")
) %>% 
  detailed_entries(with = authors,
                   when = year,
                   what = what,
                   where = journal,
                   .protect = TRUE)
```

```{r} 
pubs %>% 
  filter(type == "journal") %>%
  arrange(desc(pub_date)) %>% 
  detailed_entries(with = author,
                   when = year,
                   what = title,
                   where = glue("{journal} {number}, doi:{doi}"), 
                   .protect = TRUE)
```
## Other publications and reports
```{r} 
pubs %>% 
  filter(type == "report") %>% 
  arrange(desc(pub_date)) %>% 
  detailed_entries(with = glue("{author}"),
                   when = year,
                   what = title,
                   where = glue("{journal}")
  )
```

## Software
```{r}
df <- tribble(~what, ~when, ~with, ~where, ~why,
              "dfoliatR: detection and analysis of insect defoliation signals in tree rings", 2020, "CH Guiterman, AM Lynch, AN Axelson",
              "https://chguiterman.github.io/dfoliatR/", "Author, Creator, Maintainer",
              "burnr: Advanced fire history tools in R", 2016, 
              "SB Malevich, CH Guiterman, EQ Margolis",
              "https://cran.r-project.org/web/packages/burnr/index.html",
              "Author, Contributor",
              "suRge: An extension of dfoliatR to accomodate insect-induced growth surges in trees", 2019, "developed for Amy Hessl (West Virginia University)", "https://github.com/chguiterman/suRge", "Author, Creator",
              "slideRun: An extension of burnr to assess avalanche damage patterns on trees", 2018, "developed for Erich Peitzsch and Greg Pederson (USGS Montana)",
              "https://github.com/chguiterman/slideRun", "Author, Creator",
              "burnr_demo: A module-based R project for educating burnr users", 2017, "CH Guiterman", "https://github.com/chguiterman/burnr_demo", "Author, Creator"
)
df %>% 
  detailed_entries(what = what, 
                   when = when, 
                   with = with, 
                   where = where, 
                   why = NULL)

```

# Presentations

## Invited seminars
```{r}
presentations %>% 
  filter(Tag == "seminar") %>% 
  arrange(desc(When)) %>% 
  detailed_entries(what = Title,
                   when = glue("{month(When, label = TRUE)} {year(When)}"),
                   where = glue("{Conference}, {Location}"), 
                   .protect = TRUE)
```

## Conference presentations  (last five years)

```{r}
presentations %>%
  filter(Tag %in% c("talk", "invited")) %>%
  arrange(desc(When)) %>%
  detailed_entries(what = Title,
                   when = glue("{month(When, label = TRUE)} {year(When)}"),
                   with = Authors,
                   where = glue("{Conference}, {Location}"), 
                   why = Why, 
                   .protect = FALSE)
```

## Conference posters (last five years)
``` {r}
presentations %>%
  filter(Tag == "poster") %>%
  arrange(desc(When)) %>%
  detailed_entries(what = Title,
                   when = glue("{month(When, label = TRUE)} {year(When)}"),
                   with = Authors,
                   where = glue("{Conference}, {Location}"), 
                   why = Why, 
                   .protect = FALSE)
```                   

# Service

**Journal peer reviews:** *Dendrochronologia,
Fire Ecology,
Forest Ecology and Management,
Forest Science,
Geophysical Research Letters,
International Journal of Wildland Fire,
Journal of Archaeological Method and Theory,
Journal of Biogeography,
Journal of Contemporary Water Research and Education,
Journal of Hydrology,
Journal of Vegetation Science,
Tree-Ring Research,
Urban Forestry and Urban Greening*

\vspace{12pt}

```{r}
serv <- read.csv(here("data", "service.csv")) 
serv %>% 
  arrange(desc(when)) %>% 
  detailed_entries(when = when,
                   what = what,
                   where = where)
```

# Professional Society Memberships

* Tree-Ring Society
* Forest Stewards Guild
* Society of American Foresters
* Association for Fire Ecology
* Association of American Geographers
* Society of American Archaeology